import{a as I}from"./chunk-2RXFCJ6L.js";import{$b as D,La as h,Lb as A,O as o,Ob as g,Pb as C,Tb as R,Ub as a,W as f,Wb as S,Xb as E,Y as l,Yb as H,ac as F,bc as p,cc as x,l as c,m as s,n as u,qa as d,rb as v,v as n}from"./chunk-YMTK67ZK.js";var O=(t,i)=>{let r=o(I),e=o(p),N=o(a);return r.getProfile().pipe(u(U=>(e.updateAuthUser(U),!0)),n(()=>(e.logout(),N.navigate(["/auth/login"]),c(!1))))};var T=(t,i)=>{let r=o(a);return o(p).loggedIn()?(r.navigate(["/"]),!1):!0};var b=[{path:"auth",loadChildren:()=>import("./chunk-MXD4MKRG.js").then(t=>t.AUTH_ROUTES),canActivate:[T]},{path:"",loadChildren:()=>import("./chunk-GJIK64GD.js").then(t=>t.DASHBOARD_ROUTES),canActivate:[O]},{path:"**",redirectTo:"/auth"}];var w=(t,i)=>{let r=o(p);return t.context.get(D)===!0?i(t):i(t).pipe(n(e=>(e.status===401&&(x.error("Sesi\xF3n caducada!",""),r.logout()),s(()=>e))))};var G={providers:[f(),v(),E(b,H(S)),g(C([F,w]))]};var m=class t{title=l("Frontend");static \u0275fac=function(r){return new(r||t)};static \u0275cmp=d({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,e){r&1&&h(0,"router-outlet")},dependencies:[R],encapsulation:2})};A(m,G).catch(t=>console.error(t));
